import { createRef, useEffect, useState } from 'react';
import styled, { css, keyframes } from 'styled-components';

const DOT_ANIMATION_SPEED = 3000;
const TRIANGLE_ANIMATION_SPEED = 3000;
const PAUSE_BEFORE_FADE_ANIMATION_SPEED = 1000;
const FADE_ANIMATION_SPEED = 3000;

const fade = keyframes`
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
`;

const dot = keyframes`
  100% {
    transform: scale(0.15) rotate(180deg);
    fill: #544e59;
  }
`;

const Container = styled.div`
  font-size: 0;
  animation: ${fade} ${FADE_ANIMATION_SPEED}ms both;
`;

const Wrapper = styled.div`
  font-size: 0;
  position: relative;

  ${({ $isFading }) =>
    $isFading &&
    css`
      animation: ${fade} ${FADE_ANIMATION_SPEED}ms both reverse;
    `}
`;

const FillPath = styled.path`
  animation: ${fade} ${DOT_ANIMATION_SPEED}ms ease-in-out;
`;

const Svg = styled.svg`
  ${({ $isAnimating }) =>
    $isAnimating &&
    css`
      animation: ${dot} ${DOT_ANIMATION_SPEED}ms both;
    `}
`;

const TrianglePath = styled.path`
  ${({ $isAnimating }) =>
    $isAnimating &&
    css`
      transition: stroke-dashoffset ${TRIANGLE_ANIMATION_SPEED}ms ease-out;
    `}
`;

const Markers = styled.div`
  animation: ${fade} ${DOT_ANIMATION_SPEED}ms ease-in-out both;
  animation-delay: ${TRIANGLE_ANIMATION_SPEED + DOT_ANIMATION_SPEED}ms;
`;

const FloatText = styled.div`
  position: absolute;
  color: white;
  font-size: 1rem;
  text-align: center;
  font-family: Arial;
`;

const TriangleSvg = styled.svg`
  position: absolute;
  top: -5px;
  left: 0;
`;

const OutlineSvg = ({ color, style, children }) => {
  return <FloatText style={{ color, ...style }}>{children}</FloatText>;
};

export const Circle = ({ isAnimating, isFadeAtEnd, onDone, ...props }) => {
  const pathRef = createRef();
  const [length, setLength] = useState(10000);
  const [offset, setOffset] = useState(10000);
  const [isFading, setIsFading] = useState(false);

  useEffect(() => {
    const { current } = pathRef;
    if (!current) {
      return;
    }
    const len = Math.round(current.getTotalLength());
    setLength(len);
    setOffset(len);
  }, [pathRef.current]);

  useEffect(() => {
    if (isAnimating) {
      if (isFadeAtEnd) {
        const id1 = setTimeout(() => setOffset(0), DOT_ANIMATION_SPEED / 2);
        const id2 = setTimeout(
          () => setIsFading(true),
          TRIANGLE_ANIMATION_SPEED + PAUSE_BEFORE_FADE_ANIMATION_SPEED
        );
        const id3 = setTimeout(
          () => onDone?.(),
          TRIANGLE_ANIMATION_SPEED +
            FADE_ANIMATION_SPEED +
            PAUSE_BEFORE_FADE_ANIMATION_SPEED
        );
        return () => {
          clearTimeout(id1);
          clearTimeout(id2);
          clearTimeout(id3);
        };
      } else {
        const id1 = setTimeout(() => setOffset(0), DOT_ANIMATION_SPEED / 2);
        const id2 = setTimeout(
          () => onDone?.(),
          TRIANGLE_ANIMATION_SPEED + PAUSE_BEFORE_FADE_ANIMATION_SPEED * 2
        );
        return () => {
          clearTimeout(id1);
          clearTimeout(id2);
        };
      }
    }
  }, [isAnimating]);

  return (
    <Container>
      <Wrapper $isFading={isFading}>
        <Svg
          $isAnimating={isAnimating}
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 447 441"
          {...props}
        >
          <path d="M407.45 150.35c-1.219-4.707-8.394-17.641-8.266-17.684-37.293-63.184-111.53-93.855-181.4-104.06-89.21-14.422-156.71 69.863-176.95 148.41-13.867 42.434-19.918 90.457 5.606 129.77 39.633 64.039 110.17 108.54 186.53 107.68 71.883 1.309 135.54-49.531 160.53-115.26 20.242-46.172 36.609-100.64 13.949-148.86l.001.004Zm6.078 42.629c3.434 40.445-12.71 78.977-28.809 115.2-33.875 79.68-124.52 120.67-206.86 94.273-71.27-18.629-152.65-92.617-144.29-171.74 9.172-65.355 34.61-134.46 90.043-174.16 46.281-33.836 99.523-28.023 150.91-10.609 66.867 20.984 133.94 72.285 139.01 147.04l-.004-.004Z" />
          <path d="M349.57 98.6c-37.68-31.445-85.691-48.59-134.17-53.496-82.375-12.801-145.21 62.984-160.89 137.02-8.113 30.367-14.512 63.273-4.176 93.902 37.496 106.36 185.2 163.32 275.32 85.953 41.668-32.902 63.527-85.035 74.703-135.69 8.871-48.293-13.19-97.363-50.785-127.7l-.002.011Zm44.758 141.56c-15.652 60.129-50.262 119.25-110.19 143.45-78.895 32.949-172.77-8.121-216.45-78.43-31.266-43.742-19.336-99.832-2.82-146.94C86.552 91.22 147.473 33.9 223.478 48.92c93.918 9.188 200.9 86.172 170.85 191.25v-.01Z" />
          <path d="M332.7 101.05C287.286 68.659 227 46.003 171.37 60.941c-39.156 14.18-73.988 43.598-89.469 82.867-17.719 47.945-38.273 104.94-7.535 151.89 19.465 29.168 44.793 55.859 77.14 70.512 35.544 15.93 81.142 27.234 117.2 11.34 46.548-19.363 80.743-54.23 100.65-99.512 33.786-63.859 24.427-134.12-36.663-176.99l.007.002Zm53.242 101.19c.469 30.902-12.215 60.004-25.656 87.227-19.105 37.414-51.664 67.484-90.117 84.223-38.789 16.609-82.398 5.512-119.18-11.277-35.012-17.051-64.953-48.43-81.426-83.402-19.754-47.637 1.336-96.898 18.492-141.55 14.027-30.707 41.125-53.395 70.984-68.078 82.633-37.066 227.77 36.215 226.9 132.86l.003-.003Z" />
          <path d="M328.73 114.36c-40.652-30.152-104.56-54.141-154.86-40.57-57.605 19.477-88.039 73.008-98.961 130.03-5.687 25.254-5.04 49.41 3.18 71.043 33.52 88.246 165.6 135.71 238.79 56.082 24.059-21.824 41.285-49.801 51.578-80.367 18.742-47.852 2.136-105.77-39.723-136.22l-.004.002Zm35.398 48.168c36.879 91.367-59.984 225.79-160.31 205.69-54.379-9.43-104.64-45.484-123.83-98.109-14.625-40.797.926-83.566 16.711-121.87 19.109-41.703 61.027-77.223 108.2-76.633 61.242 4.879 132.61 31.508 159.23 90.918l-.001.004Z" />
          <path d="M324.7 123.57c-24.664-18.012-51.113-35.219-81.613-40.707-26.188-4.355-54.508-8.383-79.047 4.375-40.258 20.926-59.328 65.68-75.125 105.88-9.594 27.297-8.79 54.477 1.727 81.379 29.676 69.891 128.41 115.63 195.25 70.051 71.53-43.094 115.72-162.54 38.812-220.97l-.004-.008Zm33.266 56.605c20.734 75.734-52.523 181.68-133.41 178.53-74.77-.121-152.52-68.617-136.91-147.26 10.012-40.707 35.691-95.645 72.32-118.02 19.973-12.809 44.723-12.867 67.43-9.652 31.23 2.78 59.441 16.949 84.602 34.977 22.23 14.039 40.227 35.312 45.965 61.426l.003-.001Z" />
          <path d="M285.46 113.11c-22.367-14.863-49.605-19.367-75.984-19.684-56.402-5.117-90.633 46.504-104.04 94.82-10.539 32.473-14.137 70.07 7.36 98.988 16.98 22.605 38.558 44.348 66.55 51.98 49.074 14.125 68.578 14.164 112.81-15.863 26.383-17.941 40.191-49.477 52.086-78.094 19.008-56.266-9.082-104.92-58.785-132.15l.003.003Zm54.918 64.648c13.039 36.668 1.18 74.879-19.613 106.3-9.45 17.297-22.125 32.531-39.953 41.629-42.824 28.027-68.051 20.348-112.98 4.953-33.891-18.082-65.773-51.223-67.059-91.508.668-36.684 13.254-73.145 33.422-103.61 24.219-38.117 64.688-42.977 105.72-35.516 39.539 6.965 87.156 38.695 100.46 77.754l.003-.002Z" />
          <path d="M305.5 141.73c-28.094-33.699-71.352-37.625-112.37-34.426-34.43.281-57.191 33.828-68.891 62.816-13.238 41.375-28.734 94.594 10.496 127 22.5 14.711 44.781 35.059 73.039 35.543 21.316 3.098 40.227 5.18 60.453-7.04 33.602-21.53 38.141-29.796 56.02-64.214 23.801-38.078 14.352-90.113-18.75-119.68l.003.001Zm21.703 36.695c16.273 40.188.457 72.816-20.047 107.31-11.395 18.793-31.078 31.691-50.395 41.5-17.789 8.102-36.414 2.812-54.902 1.48-22.848-2.308-40.535-18.577-59.398-30.113-24.789-16.901-34.754-49.93-27.809-78.397 6.945-37.066 17.555-76 49.262-99.677 25.797-16.648 61.426-10.57 90.352-6.668 32.34 7.922 58.66 35.38 72.938 64.563l-.001.002Z" />
          <path d="M281.2 134.97c-24.312-20.988-58.625-18.418-88.484-15.027-48.562 4.71-63.219 59.375-70.535 99.789-7.3 46.477 30.223 87.102 72.414 100.39 11.359 1.922 22.973 2.824 34.406 3.68 11.02-1.328 21.648-4.29 32.027-8.133 22.465-7.832 36.758-27.023 48.352-46.81 31.293-47.112 16.543-101.75-28.18-133.89v.001Zm42.188 75.09c2.203 37.098-24.812 84.566-58.152 101.07-30.445 14.344-68.59 13.535-96.488-6.074-30.559-18.738-52.457-54.703-43.125-91.027 6.672-33.082 16.695-71.95 50.133-87.316 31.844-9.653 79.102-12.133 105.2 11.059 22.215 18.074 42.129 42.312 42.43 72.285l.002.003Z" />
          <path d="M265.75 135.16c-21.469-13.852-46.98-7.156-70.758-5.813-6.07.247-12.18.254-18.043 1.961-21.141 7.606-26.484 33.145-38.734 49.824-7.96 12.047-7.309 26.75-7.75 40.602-1.227 19.598 2.445 40.547 15.547 55.805 18.352 18.297 41.203 36.375 68.148 37.348 6.973.133 13.684-1.828 20.523-2.75 5.684-.765 11.656.164 15.484-1.992 16.398-6.66 20.371-11.293 31.418-23.688 16.898-13.87 24.848-34.37 32.66-54.09 2.133-4.754 2.84-9.87 2.781-15.082.082-34.793-20.188-66.754-51.277-82.125h.001Zm45.375 58.922c3.672 14.43 5.45 30.188-1.922 43.754-3.836 7.715-6.156 16.098-10.379 23.66-6.11 12.121-16.922 20.219-25.5 30.273-13.062 17.219-35.94 17.562-55.504 20.305-29.379 1.488-67.512-25.734-79.426-51.883-7.664-17.648-5.355-36.148-5.039-54.777 1.356-21.371 16.898-37.852 26.293-56.199 6.453-12.246 19.547-17.875 33.066-17.426 23.551-.828 48.781-8.3 70.277 4.754 23.031 11.87 42.555 31.512 48.133 57.539h.001Z" />
          <path d="M281.22 282.52c14.738-17.078 27.746-40.117 26.035-63.207-1.777-11.656-3.176-23.387-5.695-34.938-3.621-22.898-24.688-33.504-44.008-41.629-28.672-16.812-53.56 2.055-81.801 7.715-13.484.488-25.25 28.559-30.883 39.859-11.141 24.082-.563 41.695 2.27 65.43.237 5.906 3.28 11.25 7.87 15.199 35.852 33.23 87.773 52.102 126.21 11.57l.002.001Zm-76.402 15.742c-18.176-7.434-55.477-25.344-55.344-47.434-10.422-41.52-9.305-52.543 14.707-89.129 7.844-12.312 26.879-9.324 39.312-16.871 13.977-5.39 28.125-9.129 42.93-3.297 47.539 16.82 52.328 28.848 57.754 77.285 1.293 48.86-47.426 99.98-99.359 79.445v.001Z" />
          <path d="M271.78 165.27c-26.133-17.93-41.156-19.199-71.93-15.289-28.395 2.258-46.957 30.852-51.312 56.914-1.273 12.352 1.492 23.918 6.45 35.066 5 8.61.19 21.016 10.714 26.148 20.898 16.426 41.504 31.195 69.355 22.691 24.06-.938 41.543-20.945 54.36-39.266 17.073-22.871 8.94-49.66-4.872-70.93-3.129-6.086-7.16-11.316-12.766-15.336l.001.002Zm15.621 84.062c-9.367 14.395-22.02 28.418-37.922 35.453-9.93 4.094-19.242 3.23-29.367 5.64-11.078.547-20.766-3.238-30.184-8.421-8.816-4.852-15.918-12.06-24.375-17.406-3.563-2.25-5.273-6.028-5.082-10.16-1.54-17.27-13.223-31.254-8.824-49.793 5.187-23.61 21.898-49.391 47.855-51.938 31.23-4.559 49.82-1.82 74.969 18.508 17.512 21.699 31.145 52.734 12.93 78.117Z" />
          <path d="M248.62 163.61c-12.488-9.547-28.285-5.027-42.586-3.742-31.758 3.613-55.07 41.258-44.805 71.527 5.36 9.562 3.191 22.332 12.031 29.793 11.172 10.434 23.641 20.715 39.445 22.457 21.676.945 39.621-2.91 55.109-19.117 19.863-15.81 25.824-42.566 16.164-65.734-5.7-17.336-20.672-26.211-35.359-35.184h.001Zm35.695 42.992c5.316 18.77.535 39.543-14.238 52.648-9.164 9.152-19.672 18.266-32.707 20.992-27.633 4.852-45.695-2.121-64.719-22.785-6.02-7.523-5.031-18.602-9.676-27.133-7.539-23.129 5.262-48.578 24.402-61.969 9.36-5.871 20.38-6.832 30.707-7.719 8.953-1.187 18.98-2.25 26.895 3.149 17.48 9.746 35.098 21.906 39.336 42.816v.001Z" />
          <path d="M445.76 224.45c-1.105-11.133-.21-22.676-.863-34.027a69.307 69.307 0 0 0-7.16-26.941c-1.625-3.258-3.211-6.832-3.172-8.297 3.535-18.395-14.34-33.582-23.172-46.57-35.871-46.078-9.114-34.12-65.641-59.62-5.485-3.306-9.395-7.513-14.07-11.442-7.368-6.152-16.566-8.973-26.137-11.55-16.367-4.407-32.56-10.59-49.504-18.907-20.898-11.37-40.586-4.914-61.527-.59-11.852 1.25-23.176-.734-34.812 2.074-28.953 3.473-66.324 19.113-78.742 51.465-2.918 7.348-8.664 11.277-14.371 18.051-10.06 14.711-20.332 25.895-27.293 42.023-7.72 15.117-14.324 28.883-16.977 44.305-1.391 8.098-6.575 14.86-10.555 22.957-22.57 49.352-7.102 99.434 15.918 146.2 9.73 16.402 28.449 17.297 38.977 32.79 2.554 3.984 5.23 10.886 9.105 12.796 18.383 7.985 31.66 21.09 47.34 32.145 35.543 21.18 74.086 27.73 113.98 27.828 16.078-.898 32.707 4.372 48.652-.496 6.113-2.644 11.418-8.445 16.93-12.527 3.457-2.804 25.871-9.027 31.766-13.207 17.188-12.184 31.73-29.28 45.31-40.699 14.515-13.27 27.995-30.148 32.25-49.855.792-2.992 11.124-14 12.198-17.062 6.121-17.46 4.883-26.188 12.883-42.28 6.871-12.403 11.387-24.778 8.692-38.563l-.005-.001Zm-15.004 24.078c-29.977 104.27-108.56 197.54-226.82 177.2-70.469-10.465-149.52-63.449-180.27-129.51-29.977-72.902 17.133-171.87 65.02-230.62 27.195-34.492 65.105-54.039 108.57-49.055 63.629-1.02 108.16 20.16 162.05 50.645 21.266 12.301 22.672 20.738 36.605 39.355 32.891 39.551 47.699 91.859 34.852 142l-.007-.015Z" />

          <path
            stroke={props.fill}
            fill="none"
            strokeWidth="2"
            d="M222.304 257.604a1.625 1.625 0 0 1-1.793.228l-1.22-2.202a9 9 0 0 0-.722-1.698l-2.193-3.971a9 9 0 0 0-.46-.745l-1.428-2.078a11 11 0 0 1-.323-.499l-2.055-3.368a11 11 0 0 1-.595-1.114l-2.166-4.685a9 9 0 0 0-1.4-2.153l-2.422-2.767a11 11 0 0 1-.746-.951l-1.883-2.698a9 9 0 0 0-.534-.692l-1.628-1.907a11 11 0 0 1-1.886-3.154l-1.033-2.656a9 9 0 0 0-.408-.9l-1.808-3.466a11 11 0 0 1-.37-.781l-2.237-5.26a9 9 0 0 0-.94-1.683l-3.735-5.265a11 11 0 0 1-.783-1.281l-2.903-5.573-.734-1.427a1.961 1.961 0 0 1 1.096-2.75l6.202-.11a9 9 0 0 0 1.314-.096l8.209-1.204a11 11 0 0 1 2.488-.08l11.371.926a11 11 0 0 1 .736.085l8.785 1.314a9 9 0 0 0 3.303-.12l6.033-1.354a11 11 0 0 1 2.5-.267l9.666.08 8.758-.128 2.466-.091a2.294 2.294 0 0 1 1.652.612 2.301 2.301 0 0 1 .425 2.844l-2.423 4.169a11 11 0 0 1-1.337 1.835l-.982 1.089a9 9 0 0 0-1.82 3.085l-.81 2.346a11 11 0 0 1-2.41 3.97l-.522.552a9 9 0 0 0-1.604 2.348l-1.971 4.18-2.453 4.646a9 9 0 0 0-.666 1.617l-.3.994a11 11 0 0 1-1.467 3.054l-2.352 3.42a9 9 0 0 0-.364.574l-3.437 5.908a9 9 0 0 0-.51 1.02l-1.355 3.205a11 11 0 0 1-2.108 3.24l-2.023 2.158a9 9 0 0 0-1.294 1.77l-1.508 2.704a9 9 0 0 0-.374.75l-1.153 2.61a5.255 5.255 0 0 1-1.356 1.84Z"
          />

          {isAnimating && (
            <FillPath d="M205.714 4.08c16.868-3.645 33.19-6.308 50.327 3.016 16.945 8.316 33.137 14.5 49.504 18.906 9.57 2.578 18.77 5.399 26.137 11.551 4.675 3.93 8.585 8.136 14.07 11.441 56.527 25.5 29.77 13.543 65.64 59.621 8.833 12.988 26.708 28.175 23.173 46.57-.034 1.276 1.164 4.152 2.548 7.025l.31.638.314.634a69.307 69.307 0 0 1 7.16 26.941c.26 4.54.274 9.112.267 13.675l-.005 3.42c-.003 5.697.05 11.366.606 16.933 2.695 13.785-1.82 26.16-8.692 38.562-8 16.093-6.762 24.82-12.883 42.281-1.074 3.062-11.406 14.07-12.199 17.062-4.254 19.707-17.734 36.585-32.25 49.855-13.579 11.418-28.12 28.515-45.309 40.7-2.62 1.857-8.503 4.118-14.534 6.303l-1.007.364c-7.212 2.598-14.39 5.05-16.225 6.54-5.512 4.081-10.817 9.882-16.93 12.526-9.189 2.805-18.604 2.244-28.01 1.436l-1.66-.144c-6.363-.559-12.714-1.146-18.982-.796-39.894-.098-78.437-6.648-113.98-27.828-4.438-3.128-8.683-6.421-12.906-9.716l-1.688-1.318-.844-.658-1.69-1.313c-9.3-7.211-18.766-14.168-30.212-19.14-3.875-1.91-6.55-8.812-9.105-12.797-10.528-15.492-29.247-16.387-38.977-32.789-23.02-46.766-38.488-96.848-15.918-146.2 3.98-8.098 9.164-14.859 10.555-22.957 2.653-15.422 9.258-29.188 16.977-44.305 6.96-16.128 17.234-27.312 27.293-42.023 5.707-6.774 11.453-10.703 14.37-18.05 12.419-32.353 49.79-47.993 78.743-51.466 11.636-2.808 22.96-.824 34.812-2.074 1.675-.346 3.342-.705 5.003-1.068l1.244-.273 1.861-.41 1.239-.271.618-.135Z" />
          )}
        </Svg>

        <TriangleSvg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 508 441"
          {...props}
        >
          <TrianglePath
            ref={pathRef}
            strokeLinecap="round"
            strokeLinejoin="round"
            stroke={props.fill}
            fill="transparent"
            strokeWidth={10}
            $isAnimating={isAnimating}
            d="M499.911194,430.072424 C471.604503,430.072424 457.451158,430.072424 457.451158,430.072424 C423.588403,431.256862 406.657025,431.84908 406.657025,431.84908 C386.73839,432.661524 376.779073,433.067746 376.779073,433.067746 C344.413296,432.786068 328.230408,432.645229 328.230408,432.645229 C297.121375,432.785082 281.566859,432.855009 281.566859,432.855009 C246.580877,434.385974 229.087886,435.151456 229.087886,435.151456 C196.773285,435.232312 180.615985,435.27274 180.615985,435.27274 C139.091662,434.760377 118.329501,434.504196 118.329501,434.504196 C91.9175013,434.740125 78.7115015,434.85809 78.7115015,434.85809 C51.1240613,435.294629 37.3303411,435.512899 37.3303411,435.512899 C18.5413527,435.406364 9.14685851,435.353096 9.14685851,435.353096 C23.5282156,411.428269 30.7188941,399.465856 30.7188941,399.465856 C36.9825294,389.601477 40.1143471,384.669288 40.1143471,384.669288 C51.0184736,369.170768 56.4705368,361.421508 56.4705368,361.421508 C64.5285486,341.403175 68.5575545,331.394008 68.5575545,331.394008 C73.2033663,323.748888 75.5262723,319.926328 75.5262723,319.926328 C85.6052824,306.684296 90.6447875,300.06328 90.6447875,300.06328 C105.995723,272.217635 113.671191,258.294812 113.671191,258.294812 C124.444998,238.485699 129.831902,228.581142 129.831902,228.581142 C136.750649,216.673618 140.210023,210.719856 140.210023,210.719856 C148.572693,194.274526 152.754029,186.051861 152.754029,186.051861 C158.287259,174.927297 161.053874,169.365015 161.053874,169.365015 C169.706575,155.093604 174.032926,147.957898 174.032926,147.957898 C183.127336,131.673212 187.67454,123.530868 187.67454,123.530868 C197.408312,107.98115 202.275198,100.206291 202.275198,100.206291 C208.977267,90.6035808 212.328302,85.8022259 212.328302,85.8022259 C219.990096,75.3353207 223.820994,70.1018681 223.820994,70.1018681 C232.58123,53.5416654 236.961349,45.2615641 236.961349,45.2615641 C242.731358,33.6701362 245.616362,27.8744223 245.616362,27.8744223 C248.405556,20.2647318 249.800153,16.4598866 249.800153,16.4598866 C256.487367,11.3302329 259.830974,8.76540608 259.830974,8.76540608 C264.107232,23.1925688 266.245362,30.4061502 266.245362,30.4061502 C278.825991,53.1020263 285.116306,64.4499644 285.116306,64.4499644 C295.986674,79.751096 301.421858,87.4016619 301.421858,87.4016619 C314.407163,108.490591 320.899815,119.035055 320.899815,119.035055 C332.920847,139.118692 338.931363,149.160511 338.931363,149.160511 C349.721572,166.543313 355.116677,175.234714 355.116677,175.234714 C364.72639,188.986942 369.531246,195.863055 369.531246,195.863055 C378.329183,208.422659 382.728151,214.702461 382.728151,214.702461 C395.076549,236.790285 401.250749,247.834198 401.250749,247.834198 C411.93412,267.309184 417.275805,277.046677 417.275805,277.046677 C431.209163,302.320458 438.175842,314.957348 438.175842,314.957348 C455.213846,343.92093 463.732847,358.402721 463.732847,358.402721 L485.62708,400.212163 C495.149823,420.119004 499.911194,430.072424 499.911194,430.072424 Z"
            strokeDasharray={length}
            strokeDashoffset={offset}
          />
        </TriangleSvg>

        {isAnimating && (
          <Markers>
            <a href="/pt3.mp4" target="_blank">
              <OutlineSvg
                color={props.fill}
                style={{
                  position: 'absolute',
                  top: -25,
                  left: 96,
                }}
              >
                III
              </OutlineSvg>
            </a>

            <a href="/pt2.mp4" target="_blank">
              <OutlineSvg
                color={props.fill}
                style={{
                  position: 'absolute',
                  top: 160,
                  left: -15,
                }}
              >
                II
              </OutlineSvg>
            </a>

            <a href="/pt1.mp4" target="_blank">
              <OutlineSvg
                color={props.fill}
                style={{
                  position: 'absolute',
                  top: 158,
                  left: 207,
                }}
              >
                I
              </OutlineSvg>
            </a>
          </Markers>
        )}
      </Wrapper>
    </Container>
  );
};
